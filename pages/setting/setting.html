<!-- File: pages/setting/setting.html -->
<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <title>Setting</title>
    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="../../vendor/bootstrap/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="../../vendor/bootstrap-icons/bootstrap-icons.css"
    />
    <!-- 共通スタイル -->
    <link rel="stylesheet" href="../../style.css" />
    <!-- MEMO・PROMPTと同じ背景スタイル -->
    <link rel="stylesheet" href="../memo/memo.css" />
    <!-- このページ専用 -->
    <link rel="stylesheet" href="setting.css" />
  </head>
  <body>
    <!-- 共通ヘッダー -->
    <header>
      <a href="../memo/memo.html" class="nav-btn" id="btn-memo-list">
        <i class="bi bi-clipboard2-minus"></i>
        <span class="nav-text">MEMO</span>
      </a>
      <a href="../clipboard/clipboard.html" class="nav-btn" id="btn-clipboard">
        <i class="bi bi-journal-text"></i>
        <span class="nav-text">CLIPBOARD</span>
      </a>
      <a href="../prompt/prompt.html" class="nav-btn" id="btn-prompt">
        <i class="bi bi-terminal"></i>
        <span class="nav-text">PROMPT</span>
      </a>
      <a href="../iframe/iframe.html" class="nav-btn" id="btn-iframe">
        <i class="bi bi-layout-split"></i>
        <span class="nav-text">IFRAME</span>
      </a>
      <a href="../status/status.html" class="nav-btn" id="btn-status">
        <i class="bi bi-wifi"></i>
        <span class="nav-text">STATUS</span>
      </a>
      <a href="../timer/timer.html" class="nav-btn" id="btn-timer">
        <i class="bi bi-alarm"></i>
        <span class="nav-text">TIMER</span>
      </a>
      <a href="setting.html" class="nav-btn active" id="btn-setting">
        <i class="bi bi-gear-fill"></i>
        <span class="nav-text">SETTING</span>
      </a>
    </header>
    <!-- メインコンテンツ（MEMO・PROMPTと同じ構造） -->
    <div class="memo-content">
      <!-- 設定項目リスト -->
      <div class="setting-list" id="setting-list">
        <!-- 設定項目はJavaScriptで動的に生成 -->
      </div>

      <!-- 詳細パネル（初期状態では非表示） -->
      <section class="setting-detail" id="setting-detail">
        <!-- 説明パネル -->
        <div class="detail-panel show" id="description-panel">
          <h3 class="description-title">
            <i class="bi bi-info-circle"></i>
            SideEffect について
          </h3>
          <div class="description-content">
            <p class="description-text">
              この拡張機能は、アカウント登録不要、無料で⼀切の機能制限なく使⽤できます。
            </p>
            <p class="description-text">
              この拡張は、情報漏洩やバックドアの懸念を排除するため、クラウドサーバーへの通信を完全に断ち、<br />
              各端末のストレージに情報を保存することで完全にスタンドアロンで動く設計にしています。
            </p>
            <p class="description-text">
              また、ユーザビリティを最優先に考え、UI/UXの劣化を防ぐ広告掲載も⾏っておりません。
            </p>
            <p class="description-text">
              この拡張機能が、皆さまの業務効率化を⽀援することを⼼から願っています。
            </p>
            <div class="donation-section">
              <a href="#" class="donation-link">⇒ Please Donation</a>
            </div>
          </div>
        </div>

        <!-- バックアップのインストールパネル -->
        <div class="detail-panel" id="backup-install-panel">
          <h3 class="backup-install-title">
            <i class="bi bi-upload"></i>
            バックアップのインストール
          </h3>
          <p class="backup-install-description">
            エクスポートしたバックアップファイル（JSON）を選択して、データを復元できます。<br />
            既存のデータがある場合は、統合または上書きするかを選択してください。
          </p>

          <div class="backup-install-content">
            <!-- ファイル選択エリア -->
            <div class="file-upload-area" id="file-upload-area">
              <div class="upload-icon">
                <i class="bi bi-cloud-upload"></i>
              </div>
              <div class="upload-text">
                <span class="upload-title">バックアップファイルを選択</span>
                <span class="upload-subtitle"
                  >または、ここにファイルをドラッグ&ドロップ</span
                >
              </div>
              <input type="file" id="backup-file-input" accept=".json" />
              <button class="btn-select-file" id="btn-select-file">
                <i class="bi bi-folder2-open"></i>
                ファイルを選択
              </button>
            </div>

            <!-- ファイル情報表示エリア -->
            <div class="file-info" id="file-info">
              <div class="file-info-header">
                <i class="bi bi-file-earmark-text"></i>
                <span class="file-name" id="file-name"></span>
                <button class="btn-remove-file" id="btn-remove-file">
                  <i class="bi bi-x-lg"></i>
                </button>
              </div>
              <div class="file-details" id="file-details">
                <!-- ファイルの詳細情報がここに表示される -->
              </div>
            </div>

            <!-- インポートオプション -->
            <div class="import-options" id="import-options">
              <h4 class="options-title">
                <i class="bi bi-gear"></i>
                インポートオプション
              </h4>
              <div class="option-group">
                <label class="option-label">
                  <input
                    type="radio"
                    name="import-mode"
                    value="merge"
                    checked
                  />
                  <span class="option-text">
                    <strong>統合</strong> - 既存データと統合（重複は上書き）
                  </span>
                </label>
                <label class="option-label">
                  <input type="radio" name="import-mode" value="replace" />
                  <span class="option-text">
                    <strong>上書き</strong> - 既存データを完全に置き換え
                  </span>
                </label>
              </div>
            </div>

            <!-- インポート実行ボタン -->
            <div class="import-actions" id="import-actions">
              <button class="btn-import" id="btn-import">
                <i class="bi bi-download"></i>
                インポートを実行
              </button>
            </div>
          </div>
        </div>

        <!-- 全体のバックアップ作成パネル -->
        <div class="detail-panel" id="backup-create-panel">
          <div class="coming-soon-content">
            <div class="coming-soon-icon">
              <i class="bi bi-download"></i>
            </div>
            <h3 class="coming-soon-title">全体のバックアップを作成</h3>
            <p class="coming-soon-message">
              現在保存されているすべてのデータ（MEMO、CLIPBOARD、PROMPT）をバックアップファイルとしてエクスポートできます。<br />
              バックアップファイルは暗号化され、セキュリティハッシュが含まれています。
            </p>
            <div class="coming-soon-features">
              <div class="feature-item">
                <i class="bi bi-shield-check"></i>
                <span>セキュリティ保護</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-file-earmark-json"></i>
                <span>JSON形式</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-clock-history"></i>
                <span>自動タイムスタンプ</span>
              </div>
            </div>
          </div>
          <!-- COMING SOON オーバーレイ -->
          <div class="coming-soon-overlay">
            <div class="coming-soon-badge">
              <i class="bi bi-clock-history"></i>
              <span>COMING SOON</span>
            </div>
          </div>
        </div>

        <!-- APIキー設定パネル（Coming Soon） -->
        <div class="detail-panel" id="api-key-panel">
          <div class="coming-soon-content">
            <div class="coming-soon-icon">
              <i class="bi bi-key-fill"></i>
            </div>
            <h3 class="coming-soon-title">APIキーの設定</h3>
            <p class="coming-soon-message">
              外部APIとの連携機能は現在開発中です。<br />
              今後、AI機能やその他の外部サービスとの連携が可能になります。
            </p>
            <div class="coming-soon-features">
              <div class="feature-item">
                <i class="bi bi-chat-dots"></i>
                <span>AI チャット連携</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-translate"></i>
                <span>翻訳サービス連携</span>
              </div>
              <div class="feature-item">
                <i class="bi bi-lightning"></i>
                <span>要約機能</span>
              </div>
            </div>
          </div>
          <!-- COMING SOON オーバーレイ -->
          <div class="coming-soon-overlay">
            <div class="coming-soon-badge">
              <i class="bi bi-clock-history"></i>
              <span>COMING SOON</span>
            </div>
          </div>
        </div>

        <!-- カスタム設定パネル -->
        <div class="detail-panel" id="custom-panel">
          <h3 class="custom-title">アイコン選択・並び替え</h3>
          <p class="custom-description">
            表示するアイコンを選択してください。選択されたアイコンのみがヘッダーに表示されます。
          </p>

          <div class="custom-settings">
            <!-- アイコン選択設定 -->
            <div class="setting-group">
              <h4 class="setting-group-title">
                <i class="bi bi-grid-3x3-gap"></i>
                ヘッダーに表示するアイコン（光っているもののみ表示）
              </h4>
              <div class="setting-item">
                <div class="setting-control">
                  <div class="icon-selector" id="icon-selector-main">
                    <div class="icon-option" data-icon="memo">
                      <i class="bi bi-clipboard2-minus"></i>
                      <span class="icon-label">MEMO</span>
                    </div>
                    <div class="icon-option" data-icon="clipboard">
                      <i class="bi bi-journal-text"></i>
                      <span class="icon-label">CLIPBOARD</span>
                    </div>
                    <div class="icon-option" data-icon="prompt">
                      <i class="bi bi-terminal"></i>
                      <span class="icon-label">PROMPT</span>
                    </div>
                    <div class="icon-option" data-icon="iframe">
                      <i class="bi bi-layout-split"></i>
                      <span class="icon-label">IFRAME</span>
                    </div>
                    <div class="icon-option" data-icon="status">
                      <i class="bi bi-wifi"></i>
                      <span class="icon-label">STATUS</span>
                    </div>
                    <div class="icon-option" data-icon="timer">
                      <i class="bi bi-alarm"></i>
                      <span class="icon-label">TIMER</span>
                    </div>
                    <div class="icon-option" data-icon="setting">
                      <i class="bi bi-gear-fill"></i>
                      <span class="icon-label">SETTING</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <!-- 今後実装予定 -->
            <div class="setting-group coming-soon-group">
              <h4 class="setting-group-title">
                <i class="bi bi-clock-history"></i>
                今後実装予定
              </h4>
              <div class="setting-item">
                <div class="setting-control">
                  <div class="icon-selector coming-soon-selector">
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="ai"
                      data-id="btn-ai"
                    >
                      <i class="bi bi-question-lg"></i>
                      <span class="icon-label">AI</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-chat-dots"></i>
                          <span>AI チャット</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-lightning"></i>
                          <span>AI 要約</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-translate"></i>
                          <span>AI 翻訳</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-magic"></i>
                          <span>AI 生成</span>
                        </div>
                      </div>
                    </div>
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="todolist"
                      data-id="btn-todolist"
                    >
                      <i class="bi bi-clipboard2-check"></i>
                      <span class="icon-label">TODOLIST</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-list-check"></i>
                          <span>タスク管理</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-calendar-check"></i>
                          <span>期限管理</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-pie-chart"></i>
                          <span>進捗管理</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-tags"></i>
                          <span>カテゴリ管理</span>
                        </div>
                      </div>
                    </div>
                    <!-- QRコードアイコン（今後実装予定） -->
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="qrcode"
                      data-id="btn-qrcode"
                    >
                      <i class="bi bi-qr-code"></i>
                      <span class="icon-label">QR CODE</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-camera"></i>
                          <span>QRコード読み取り</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-upc-scan"></i>
                          <span>QRコード生成</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-clock"></i>
                          <span>履歴表示</span>
                        </div>
                      </div>
                    </div>
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="sadbox"
                      data-id="btn-sadbox"
                    >
                      <i class="bi bi-shield-check"></i>
                      <span class="icon-label">SADBOX</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-shield-check"></i>
                          <span>SADBOX（セキュリティ強化予定）</span>
                        </div>
                      </div>
                    </div>

                    <!-- フルスクリーンキャプチャーアイコン（今後実装予定） -->
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="screenshot"
                      data-id="btn-screenshot"
                    >
                      <i class="bi bi-instagram"></i>
                      <span class="icon-label">FULLCAP</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-camera"></i>
                          <span>フルスクリーンキャプチャー</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-crop"></i>
                          <span>部分キャプチャー</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-image"></i>
                          <span>画像編集</span>
                        </div>
                      </div>
                    </div>
                    <!-- 電卓アイコン（今後実装予定） -->
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="calculator"
                      data-id="btn-calculator"
                    >
                      <i class="bi bi-calculator"></i>
                      <span class="icon-label">CALC</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-calculator"></i>
                          <span>基本計算</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-graph-up"></i>
                          <span>関数計算</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-clock-history"></i>
                          <span>計算履歴</span>
                        </div>
                      </div>
                    </div>
                    <!-- 翻訳アイコン（今後実装予定） -->
                    <div
                      class="icon-option coming-soon dropdown-trigger"
                      data-icon="translate"
                      data-id="btn-translate"
                    >
                      <i class="bi bi-translate"></i>
                      <span class="icon-label">TRANSLATE</span>
                      <div class="coming-soon-dropdown">
                        <div class="dropdown-header">
                          <i class="bi bi-clock-history"></i>
                          <span>今後実装予定</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-translate"></i>
                          <span>テキスト翻訳</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-globe"></i>
                          <span>多言語対応</span>
                        </div>
                        <div class="dropdown-item">
                          <i class="bi bi-clock-history"></i>
                          <span>翻訳履歴</span>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="custom-actions">
            <button class="btn-reset" id="btn-reset-custom">
              <i class="bi bi-arrow-clockwise"></i>
              デフォルトに戻す
            </button>
            <button class="btn-save" id="btn-save-custom">
              <i class="bi bi-check-lg"></i>
              設定を保存
            </button>
          </div>
        </div>
      </section>
    </div>
    <!-- フッター（画面下部固定） -->
    <footer class="memo-footer">
      <button class="nav-btn setting-contact-btn">
        <i class="bi bi-envelope"></i>
      </button>
      <button class="nav-btn setting-share-btn">
        <i class="bi bi-share-fill"></i>
      </button>
    </footer>
    <!-- Bootstrap JS -->
    <script src="../../vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="../common.js"></script>
    <!-- このページ専用スクリプト -->
    <script src="setting.js"></script>
  </body>
</html>
